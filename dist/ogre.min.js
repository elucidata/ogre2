!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.Ogre=t()}}(function(){return function t(e,n,r){function i(s,u){if(!n[s]){if(!e[s]){var a="function"==typeof require&&require;if(!u&&a)return a(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[s]={exports:{}};e[s][0].call(f.exports,function(t){var n=e[s][1][t];return i(n?n:t)},f,f.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e){e.exports=t("./lib/ogre")},{"./lib/ogre":3}],2:[function(t,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e,n){s(t);var r=l.get(t);r[e]=r[e]||[],r[e].push(n)}function o(t,e,n){var r=l.get(t);if(r[e]=r[e]||[],r[e].splice(r[e].indexOf(n),1),0===r[e].length&&(delete r[e],0===Object.keys(r).length)){var i=p.get(t);t.offChange(i),p["delete"](t),l["delete"](t)}}function s(t){if(!l.has(t)){var e=u.bind(this,t);t.onChange(e),l.set(t,{}),p.set(t,e)}}function u(t,e){if(!l.has(t))return void console.log("Ghost bug: Cursor#globalEventHandler() called with a source no longer tracked!");var n=l.get(t),r=Object.keys(n),i=[];if(r&&r.length)for(var o=0;o<r.length;o++)for(var s=r[o],u=0;u<e.length;u++){var a=e[u];if(f.startsWith(a,s)){var c=n[s];i=i.concat(c);break}}i.length&&i.forEach(function(t){t(e)})}t("es6-collections");var a=t("elucidata-type"),c=n(a),f=t("./util"),h=function(){function t(e,n){r(this,t),this.source=e,this.basePath=c["default"].isArray(n)?n.join("."):n}return t.prototype.scopeTo=function(e){return t.forPath(this.basePath+"."+e,this.source)},t.prototype.onChange=function(t){var e=this;return i(this.source,this.basePath,t),function(){o(e.source,e.basePath,t)}},t.prototype.offChange=function(t){return o(this.source,this.basePath,t),this},t.prototype.getFullPath=function(t){var e=this.basePath;return t&&(c["default"].isArray(t)?t.length>0&&(e+=".",e+=t.join(".")):(e+=".",e+=t)),e},t.forPath=function(e,n){return new t(n,e)},t.listenerInfo=function(){var t=(void 0===arguments[0]?!1:arguments[0],l.size),e=0,n=0;l.forEach(function(t){Object.keys(t).forEach(function(r){var i=t[r];e+=1,n+=i.length})});var r={totalSources:t,totalKeyWatches:e,totalEventHandlers:n};return r},t}();["get","getPrevious","set","has","merge","push","unshift","splice","map","each","forEach","reduce","filter","find","indexOf","isUndefined","isNotUndefined","isDefined","isNull","isNotNull","isEmpty","isNotEmpty","isString","isNotString","isArray","isNotArray","isObject","isNotObject","isNumber","isNotNumber"].map(function(t){h.prototype[t]=function(){for(var e=arguments.length,n=Array(e),r=0;e>r;r++)n[r]=arguments[r];var i=n.length,o=void 0,s=void 0;return 0===i?this.source[t].call(this.source,this.basePath):1===i?(o=n[0],d.indexOf(t)>=0?this.source[t].call(this.source,this.basePath,o):this.source[t].call(this.source,this.getFullPath(o))):(o=n[0],s=n.slice(1),s.unshift(this.getFullPath(o)),this.source[t].apply(this.source,s))}});var l=new Map,p=new WeakMap,d=["set","merge","push","unshift","splice","indexOf","map","each","forEach","reduce","filter","find"];e.exports=h},{"./util":4,"elucidata-type":6,"es6-collections":7}],3:[function(t,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){var e=void 0===arguments[1]?"":arguments[1];if(t.length<2)throw new Error("Invalid "+e+" call: Requires path and value")}var o=t("elucidata-type"),s=n(o),u=t("react/lib/update"),a=n(u),c=t("react/lib/Object.assign"),f=n(c),h=t("eventemitter3"),l=n(h),p=t("./cursor"),d=n(p),y=t("./util"),v=t("./version"),g=n(v),_="change",m={batchChanges:!0,maxHistory:1,strict:!0},b=function(){function t(){var e=void 0===arguments[0]?{}:arguments[0],n=void 0===arguments[1]?{}:arguments[1];return r(this,t),!this instanceof t?new t(e,n):(this._root=e,this._changedKeys=[],this._timer=null,this._emitter=new l["default"],this.history=[],this.options=f["default"]({},m,n),void("getInitialState"in this&&(this._root=this.getInitialState(this._root))))}return t.prototype.scopeTo=function(t){return d["default"].forPath(t,this)},t.prototype.get=function(t,e){if(""===t||null==t)return this._root;var n=y.findPath(t,this._root);return s["default"].isUndefined(n)?e:n},t.prototype.getPrevious=function(t){var e=void 0===arguments[1]?0:arguments[1];return y.findPath(t,this.history[e]||{})},t.prototype.map=function(t,e){return this.get(t,[]).map(e)},t.prototype.each=function(t,e){return this.get(t,[]).forEach(e),this},t.prototype.forEach=function(t,e){return this.each(t,e)},t.prototype.filter=function(t,e){return this.get(t,[]).filter(e)},t.prototype.reduce=function(t,e,n){return this.get(t,[]).reduce(e,n)},t.prototype.find=function(t,e){var n=this.get(t,[]),r=void 0,i=void 0;for(r=0,i=n.length;i>r;r++){var o=n[r];if(e(o)===!0)return o}return void 0},t.prototype.indexOf=function(t,e){return this.get(t).indexOf(e)},t.prototype.set=function(t,e){return i(arguments,"set"),this._changeDataset(t,{$set:e},"object"),this},t.prototype.merge=function(t,e){return this._changeDataset(t,{$merge:e},"object"),this},t.prototype.push=function(t,e){return s["default"].isNotArray(e)&&(e=[e]),this._changeDataset(t,{$push:e},"array"),this},t.prototype.unshift=function(t,e){return s["default"].isNotArray(e)&&(e=[e]),this._changeDataset(t,{$unshift:e},"array"),this},t.prototype.splice=function(t,e,n){for(var r=arguments.length,i=Array(r>3?r-3:0),o=3;r>o;o++)i[o-3]=arguments[o];var s=void 0;return s=2===arguments.length?{$splice:e}:{$splice:[[e,n].concat(i)]},this._changeDataset(t,s,"array"),this},t.prototype.onChange=function(t){var e=this;return this._emitter.on(_,t),function(){e._emitter.removeListener(_,t)}},t.prototype.offChange=function(t){return this._emitter.removeListener(_,t),this},t.prototype.has=function(t){return this.isNotEmpty(t)},t.prototype.isUndefined=function(t){return s["default"].isUndefined(this.get(t))},t.prototype.isNotUndefined=function(t){return s["default"].isNotUndefined(this.get(t))},t.prototype.isDefined=function(t){return s["default"].isNotUndefined(this.get(t))},t.prototype.isNull=function(t){return s["default"].isNull(this.get(t))},t.prototype.isNotNull=function(t){return s["default"].isNotNull(this.get(t))},t.prototype.isEmpty=function(t){return s["default"].isEmpty(this.get(t))},t.prototype.isNotEmpty=function(t){return s["default"].isNotEmpty(this.get(t))},t.prototype.isString=function(t){return s["default"].isString(this.get(t))},t.prototype.isNotString=function(t){return s["default"].isNotString(this.get(t))},t.prototype.isArray=function(t){return s["default"].isArray(this.get(t))},t.prototype.isNotArray=function(t){return s["default"].isNotArray(this.get(t))},t.prototype.isObject=function(t){return s["default"].isObject(this.get(t))},t.prototype.isNotObject=function(t){return s["default"].isNotObject(this.get(t))},t.prototype.isNumber=function(t){return s["default"].isNumber(this.get(t))},t.prototype.isNotNumber=function(t){return s["default"].isNotNumber(this.get(t))},t.prototype._changeDataset=function(t,e,n){if(0===this._changedKeys.length)for(this.history.unshift(this._root);this.options.maxHistory>=0&&this.history.length>this.options.maxHistory;)this.history.pop();this.options.strict===!1&&y.findPath(t,this._root,!0,n),this._root=a["default"](this._root,y.buildSpecGraph(t,e)),this._scheduleChangeEvent(t)},t.prototype._scheduleChangeEvent=function(t){s["default"].isArray(t)&&(t=t.join(".")),this._changedKeys.push(t),this.options.batchChanges===!0?null===this._timer&&(this._timer=setTimeout(this._sendChangeEvents.bind(this),0)):this._sendChangeEvents()},t.prototype._sendChangeEvents=function(){this._emitter.emit(_,this._changedKeys),this._changedKeys=[],this._timer=null},t.prototype._clearKeyCache=function(){y.keyParts.clearCache()},t}();b.version=g["default"],e.exports=b},{"./cursor":2,"./util":4,"./version":5,"elucidata-type":6,eventemitter3:8,"react/lib/Object.assign":9,"react/lib/update":12}],4:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,n,r){if(t=t||"",e=e||{},n=n===!0?!0:!1,""===t)return e;for(var i=s(t),o=e,u=void 0;o&&i.length;)u=i.shift(),n&&f["default"].isUndefined(o[u])&&(o[u]=0===i.length&&"array"===r?[]:{}),o=o[u];return o}function o(t,e){t=t||"",e=e||{};var n={};if(""===t)return n;for(var r=s(t),i=n,o=void 0;r.length;)o=r.shift(),i[o]=0===r.length?e:{},i=i[o];return n}function s(t){var e=void 0;return f["default"].isArray(t)?t.concat():(e=h[t])?e.concat():(e=h[t]=t.split("."),e.concat())}function u(t){var e=Math.floor((new Date).getTime()/1e3);for(t=t||36;l>=e;)e+=1;return l=e,e.toString(t)}function a(t,e){return 0==t.indexOf(e)}n.__esModule=!0,n.findPath=i,n.buildSpecGraph=o,n.keyParts=s,n.uid=u,n.startsWith=a;var c=t("elucidata-type"),f=r(c),h={"":[""]};s.clearCache=function(){h={"":[""]}};var l=0,p=function(){return"object"==typeof performance&&performance.now?performance.now.bind(performance):Date.now?Date.now.bind(Date):function(){return(new Date).getTime()}}();n.now=p},{"elucidata-type":6}],5:[function(t,e){"use strict";e.exports="0.4.1"},{}],6:[function(t,e){(function(){var t,n,r,i,o,s,u,a,c;for(c="Boolean Number String Function Array Date RegExp Undefined Null NodeList".split(" "),r=/element$/,s=Object.keys||function(t){var e,n,r;r=[];for(e in t)n=t[e],r.push(e);return r},n=function(){var t,e,n,r,i,o;for(r=Object.prototype.toString,e=/\[object HTML(.*)\]/,t={},i=0,o=c.length;o>i;i++)n=c[i],t["[object "+n+"]"]=n.toLowerCase();return function(n){var i,o;return o=r.call(n),(i=t[o])?i:(i=o.match(e))?i[1].toLowerCase():"object"}}(),a=c.concat(["Object"]),i=function(t){var e;return e=t.toLowerCase(),n["is"+t]=function(t){return n(t)===e},n["isNot"+t]=function(t){return n(t)!==e}},o=0,u=a.length;u>o;o++)t=a[o],i(t);n.isEmpty=function(t){switch(n(t)){case"null":return!0;case"undefined":return!0;case"string":return""===t;case"object":return 0===s(t).length;case"array":return 0===t.length;case"number":return isNaN(t);case"nodelist":return 0===t.length;default:return!1}},n.isNotEmpty=function(t){return!n.isEmpty(t)},n.isElement=function(t){return r.test(n(t))},n.isNotElement=function(t){return!n.isElement(t)},"undefined"!=typeof e&&null!==e?e.exports=n:this.type=n}).call(this)},{}],7:[function(t,e,n){(function(t){!function(t){"use strict";function e(t,e){function r(t){return this&&this.constructor===r?(this._keys=[],this._values=[],this.objectOnly=e,void(t&&n.call(this,t))):new r(t)}return e||b(t,"size",{get:v}),t.constructor=r,r.prototype=t,r}function n(t){this.add?t.forEach(this.add,this):t.forEach(function(t){this.set(t[0],t[1])},this)}function r(t){return this.has(t)&&(this._keys.splice(m,1),this._values.splice(m,1)),m>-1}function i(t){return this.has(t)?this._values[m]:void 0}function o(t,e){if(this.objectOnly&&e!==Object(e))throw new TypeError("Invalid value used as weak collection key");if(e!=e||0===e)for(m=t.length;m--&&!w(t[m],e););else m=t.indexOf(e);return m>-1}function s(t){return o.call(this,this._values,t)}function u(t){return o.call(this,this._keys,t)}function a(t,e){return this.has(t)?this._values[m]=e:this._values[this._keys.push(t)-1]=e,this}function c(t){return this.has(t)||this._values.push(t),this}function f(){this._values.length=0}function h(){return y(this._keys)}function l(){return y(this._values)}function p(){return y(this._keys,this._values)}function d(){return y(this._values,this._values)}function y(t,e){var n=0,r=!1;return{next:function(){var i;return!r&&n<t.length?(i=e?[t[n],e[n]]:t[n],n+=1):r=!0,{done:r,value:i}}}}function v(){return this._values.length}function g(t,e){var n=this,r=n._values.slice();n._keys.slice().forEach(function(i,o){t.call(e,r[o],i,n)})}function _(t,e){var n=this;n._values.slice().forEach(function(r){t.call(e,r,r,n)})}var m,b=Object.defineProperty,w=function(t,e){return isNaN(t)?isNaN(e):t===e};"undefined"==typeof WeakMap&&(t.WeakMap=e({"delete":r,clear:f,get:i,has:u,set:a},!0)),"undefined"==typeof Map&&(t.Map=e({"delete":r,has:u,get:i,set:a,keys:h,values:l,entries:p,forEach:g,clear:f})),"undefined"==typeof Set&&(t.Set=e({has:s,add:c,"delete":r,clear:f,keys:l,values:l,entries:d,forEach:_})),"undefined"==typeof WeakSet&&(t.WeakSet=e({"delete":r,add:c,clear:f,has:s},!0))}("undefined"!=typeof n&&"undefined"!=typeof t?t:window)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(t,e){"use strict";function n(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function r(){}var i="function"!=typeof Object.create?"~":!1;r.prototype._events=void 0,r.prototype.listeners=function(t,e){var n=i?i+t:t,r=this._events&&this._events[n];if(e)return!!r;if(!r)return[];if(this._events[n].fn)return[this._events[n].fn];for(var o=0,s=this._events[n].length,u=new Array(s);s>o;o++)u[o]=this._events[n][o].fn;return u},r.prototype.emit=function(t,e,n,r,o,s){var u=i?i+t:t;if(!this._events||!this._events[u])return!1;var a,c,f=this._events[u],h=arguments.length;if("function"==typeof f.fn){switch(f.once&&this.removeListener(t,f.fn,void 0,!0),h){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,e),!0;case 3:return f.fn.call(f.context,e,n),!0;case 4:return f.fn.call(f.context,e,n,r),!0;case 5:return f.fn.call(f.context,e,n,r,o),!0;case 6:return f.fn.call(f.context,e,n,r,o,s),!0}for(c=1,a=new Array(h-1);h>c;c++)a[c-1]=arguments[c];f.fn.apply(f.context,a)}else{var l,p=f.length;for(c=0;p>c;c++)switch(f[c].once&&this.removeListener(t,f[c].fn,void 0,!0),h){case 1:f[c].fn.call(f[c].context);break;case 2:f[c].fn.call(f[c].context,e);break;case 3:f[c].fn.call(f[c].context,e,n);break;default:if(!a)for(l=1,a=new Array(h-1);h>l;l++)a[l-1]=arguments[l];f[c].fn.apply(f[c].context,a)}}return!0},r.prototype.on=function(t,e,r){var o=new n(e,r||this),s=i?i+t:t;return this._events||(this._events=i?{}:Object.create(null)),this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],o]:this._events[s].push(o):this._events[s]=o,this},r.prototype.once=function(t,e,r){var o=new n(e,r||this,!0),s=i?i+t:t;return this._events||(this._events=i?{}:Object.create(null)),this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],o]:this._events[s].push(o):this._events[s]=o,this},r.prototype.removeListener=function(t,e,n,r){var o=i?i+t:t;if(!this._events||!this._events[o])return this;var s=this._events[o],u=[];if(e)if(s.fn)(s.fn!==e||r&&!s.once||n&&s.context!==n)&&u.push(s);else for(var a=0,c=s.length;c>a;a++)(s[a].fn!==e||r&&!s[a].once||n&&s[a].context!==n)&&u.push(s[a]);return u.length?this._events[o]=1===u.length?u[0]:u:delete this._events[o],this},r.prototype.removeAllListeners=function(t){return this._events?(t?delete this._events[i?i+t:t]:this._events=i?{}:Object.create(null),this):this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prototype.setMaxListeners=function(){return this},r.prefixed=i,e.exports=r},{}],9:[function(t,e){function n(t){if(null==t)throw new TypeError("Object.assign target cannot be null or undefined");for(var e=Object(t),n=Object.prototype.hasOwnProperty,r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i){var o=Object(i);for(var s in o)n.call(o,s)&&(e[s]=o[s])}}return e}e.exports=n},{}],10:[function(t,e){"use strict";var n=function(t,e,n,r,i,o,s,u){if(!t){var a;if(void 0===e)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,s,u],f=0;a=new Error("Invariant Violation: "+e.replace(/%s/g,function(){return c[f++]}))}throw a.framesToPop=1,a}};e.exports=n},{}],11:[function(t,e){var n=function(t){var e;for(e in t)if(t.hasOwnProperty(e))return e;return null};e.exports=n},{}],12:[function(t,e){"use strict";function n(t){return Array.isArray(t)?t.concat():t&&"object"==typeof t?o(new t.constructor,t):t}function r(t,e,n){u(Array.isArray(t));var r=e[n];u(Array.isArray(r))}function i(t,e){if(u("object"==typeof e),e.hasOwnProperty(h))return u(1===Object.keys(e).length),e[h];var s=n(t);if(e.hasOwnProperty(l)){var d=e[l];u(d&&"object"==typeof d),u(s&&"object"==typeof s),o(s,e[l])}e.hasOwnProperty(a)&&(r(t,e,a),e[a].forEach(function(t){s.push(t)})),e.hasOwnProperty(c)&&(r(t,e,c),e[c].forEach(function(t){s.unshift(t)})),e.hasOwnProperty(f)&&(u(Array.isArray(t)),u(Array.isArray(e[f])),e[f].forEach(function(t){u(Array.isArray(t)),s.splice.apply(s,t)})),e.hasOwnProperty(p)&&(u("function"==typeof e[p]),s=e[p](s));for(var v in e)y.hasOwnProperty(v)&&y[v]||(s[v]=i(t[v],e[v]));return s}var o=t("./Object.assign"),s=t("./keyOf"),u=t("./invariant"),a=s({$push:null}),c=s({$unshift:null}),f=s({$splice:null}),h=s({$set:null}),l=s({$merge:null}),p=s({$apply:null}),d=[a,c,f,h,l,p],y={};d.forEach(function(t){y[t]=!0}),e.exports=i},{"./Object.assign":9,"./invariant":10,"./keyOf":11}]},{},[1])(1)});