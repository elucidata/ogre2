!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.Ogre=t()}}(function(){return function t(e,n,r){function i(o,u){if(!n[o]){if(!e[o]){var c="function"==typeof require&&require;if(!u&&c)return c(o,!0);if(s)return s(o,!0);var a=new Error("Cannot find module '"+o+"'");throw a.code="MODULE_NOT_FOUND",a}var h=n[o]={exports:{}};e[o][0].call(h.exports,function(t){var n=e[o][1][t];return i(n?n:t)},h,h.exports,t,e,n,r)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(t,e){(function(){var t,n,r,i,s,o,u,c,a;for(a="Boolean Number String Function Array Date RegExp Undefined Null NodeList".split(" "),r=/element$/,o=Object.keys||function(t){var e,n,r;r=[];for(e in t)n=t[e],r.push(e);return r},n=function(){var t,e,n,r,i,s;for(r=Object.prototype.toString,e=/\[object HTML(.*)\]/,t={},i=0,s=a.length;s>i;i++)n=a[i],t["[object "+n+"]"]=n.toLowerCase();return function(n){var i,s;return s=r.call(n),(i=t[s])?i:(i=s.match(e))?i[1].toLowerCase():"object"}}(),c=a.concat(["Object"]),i=function(t){var e;return e=t.toLowerCase(),n["is"+t]=function(t){return n(t)===e},n["isNot"+t]=function(t){return n(t)!==e}},s=0,u=c.length;u>s;s++)t=c[s],i(t);n.isEmpty=function(t){switch(n(t)){case"null":return!0;case"undefined":return!0;case"string":return""===t;case"object":return 0===o(t).length;case"array":return 0===t.length;case"number":return isNaN(t);case"nodelist":return 0===t.length;default:return!1}},n.isNotEmpty=function(t){return!n.isEmpty(t)},n.isElement=function(t){return r.test(n(t))},n.isNotElement=function(t){return!n.isElement(t)},"undefined"!=typeof e&&null!==e?e.exports=n:this.type=n}).call(this)},{}],2:[function(t,e,n){(function(t){!function(t){"use strict";function e(t,e){function r(t){return this&&this.constructor===r?(this._keys=[],this._values=[],this.objectOnly=e,void(t&&n.call(this,t))):new r(t)}return e||v(t,"size",{get:p}),t.constructor=r,r.prototype=t,r}function n(t){this.add?t.forEach(this.add,this):t.forEach(function(t){this.set(t[0],t[1])},this)}function r(t){return this.has(t)&&(this._keys.splice(d,1),this._values.splice(d,1)),d>-1}function i(t){return this.has(t)?this._values[d]:void 0}function s(t,e){if(this.objectOnly&&e!==Object(e))throw new TypeError("Invalid value used as weak collection key");if(e!=e||0===e)for(d=t.length;d--&&!_(t[d],e););else d=t.indexOf(e);return d>-1}function o(t){return s.call(this,this._values,t)}function u(t){return s.call(this,this._keys,t)}function c(t,e){return this.has(t)?this._values[d]=e:this._values[this._keys.push(t)-1]=e,this}function a(t){return this.has(t)||this._values.push(t),this}function h(){this._values.length=0}function f(){return this._values.slice()}function l(){return this._keys.slice()}function p(){return this._values.length}function y(t,e){var n=this,r=n._values.slice();n._keys.slice().forEach(function(i,s){t.call(e,r[s],i,n)})}function g(t,e){var n=this;n._values.slice().forEach(function(r){t.call(e,r,r,n)})}var d,v=Object.defineProperty,_=Object.is;"undefined"==typeof WeakMap&&(t.WeakMap=e({"delete":r,clear:h,get:i,has:u,set:c},!0)),"undefined"==typeof Map&&(t.Map=e({"delete":r,has:u,get:i,set:c,keys:l,values:f,forEach:y,clear:h})),"undefined"==typeof Set&&(t.Set=e({has:o,add:a,"delete":r,clear:h,values:f,forEach:g})),"undefined"==typeof WeakSet&&(t.WeakSet=e({"delete":r,add:a,clear:h,has:o},!0))}("undefined"!=typeof n&&"undefined"!=typeof t?t:window)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(t,e){"use strict";function n(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function r(){}var i="function"!=typeof Object.create?"~":!1;r.prototype._events=void 0,r.prototype.listeners=function(t,e){var n=i?i+t:t,r=this._events&&this._events[n];if(e)return!!r;if(!r)return[];if(this._events[n].fn)return[this._events[n].fn];for(var s=0,o=this._events[n].length,u=new Array(o);o>s;s++)u[s]=this._events[n][s].fn;return u},r.prototype.emit=function(t,e,n,r,s,o){var u=i?i+t:t;if(!this._events||!this._events[u])return!1;var c,a,h=this._events[u],f=arguments.length;if("function"==typeof h.fn){switch(h.once&&this.removeListener(t,h.fn,void 0,!0),f){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,e),!0;case 3:return h.fn.call(h.context,e,n),!0;case 4:return h.fn.call(h.context,e,n,r),!0;case 5:return h.fn.call(h.context,e,n,r,s),!0;case 6:return h.fn.call(h.context,e,n,r,s,o),!0}for(a=1,c=new Array(f-1);f>a;a++)c[a-1]=arguments[a];h.fn.apply(h.context,c)}else{var l,p=h.length;for(a=0;p>a;a++)switch(h[a].once&&this.removeListener(t,h[a].fn,void 0,!0),f){case 1:h[a].fn.call(h[a].context);break;case 2:h[a].fn.call(h[a].context,e);break;case 3:h[a].fn.call(h[a].context,e,n);break;default:if(!c)for(l=1,c=new Array(f-1);f>l;l++)c[l-1]=arguments[l];h[a].fn.apply(h[a].context,c)}}return!0},r.prototype.on=function(t,e,r){var s=new n(e,r||this),o=i?i+t:t;return this._events||(this._events=i?{}:Object.create(null)),this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],s]:this._events[o].push(s):this._events[o]=s,this},r.prototype.once=function(t,e,r){var s=new n(e,r||this,!0),o=i?i+t:t;return this._events||(this._events=i?{}:Object.create(null)),this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],s]:this._events[o].push(s):this._events[o]=s,this},r.prototype.removeListener=function(t,e,n,r){var s=i?i+t:t;if(!this._events||!this._events[s])return this;var o=this._events[s],u=[];if(e)if(o.fn)(o.fn!==e||r&&!o.once||n&&o.context!==n)&&u.push(o);else for(var c=0,a=o.length;a>c;c++)(o[c].fn!==e||r&&!o[c].once||n&&o[c].context!==n)&&u.push(o[c]);return u.length?this._events[s]=1===u.length?u[0]:u:delete this._events[s],this},r.prototype.removeAllListeners=function(t){return this._events?(t?delete this._events[i?i+t:t]:this._events=i?{}:Object.create(null),this):this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prototype.setMaxListeners=function(){return this},r.prefixed=i,e.exports=r},{}],4:[function(t,e){function n(t){if(null==t)throw new TypeError("Object.assign target cannot be null or undefined");for(var e=Object(t),n=Object.prototype.hasOwnProperty,r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i){var s=Object(i);for(var o in s)n.call(s,o)&&(e[o]=s[o])}}return e}e.exports=n},{}],5:[function(t,e){"use strict";var n=function(t,e,n,r,i,s,o,u){if(!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=[n,r,i,s,o,u],h=0;c=new Error("Invariant Violation: "+e.replace(/%s/g,function(){return a[h++]}))}throw c.framesToPop=1,c}};e.exports=n},{}],6:[function(t,e){var n=function(t){var e;for(e in t)if(t.hasOwnProperty(e))return e;return null};e.exports=n},{}],7:[function(t,e){"use strict";function n(t){return Array.isArray(t)?t.concat():t&&"object"==typeof t?s(new t.constructor,t):t}function r(t,e,n){u(Array.isArray(t));var r=e[n];u(Array.isArray(r))}function i(t,e){if(u("object"==typeof e),e.hasOwnProperty(f))return u(1===Object.keys(e).length),e[f];var o=n(t);if(e.hasOwnProperty(l)){var y=e[l];u(y&&"object"==typeof y),u(o&&"object"==typeof o),s(o,e[l])}e.hasOwnProperty(c)&&(r(t,e,c),e[c].forEach(function(t){o.push(t)})),e.hasOwnProperty(a)&&(r(t,e,a),e[a].forEach(function(t){o.unshift(t)})),e.hasOwnProperty(h)&&(u(Array.isArray(t)),u(Array.isArray(e[h])),e[h].forEach(function(t){u(Array.isArray(t)),o.splice.apply(o,t)})),e.hasOwnProperty(p)&&(u("function"==typeof e[p]),o=e[p](o));for(var d in e)g.hasOwnProperty(d)&&g[d]||(o[d]=i(t[d],e[d]));return o}var s=t("./Object.assign"),o=t("./keyOf"),u=t("./invariant"),c=o({$push:null}),a=o({$unshift:null}),h=o({$splice:null}),f=o({$set:null}),l=o({$merge:null}),p=o({$apply:null}),y=[c,a,h,f,l,p],g={};y.forEach(function(t){g[t]=!0}),e.exports=i},{"./Object.assign":4,"./invariant":5,"./keyOf":6}],8:[function(t,e){function n(t,e){"use strict";this.source=t,this.basePath=u.isArray(e)?e.join("."):e}function r(t,e,n){s(t);var r=h.get(t);r[e]=r[e]||[],r[e].push(n)}function i(t,e,n){var r=h.get(t);if(r[e]=r[e]||[],r[e].splice(r[e].indexOf(n),1),0===r[e].length&&(delete r[e],0===Object.keys(r).length)){var i=f.get(t);t.offChange(i),f["delete"](t),h["delete"](t)}}function s(t){if(!h.has(t)){var e=o.bind(this,t);t.onChange(e),h.set(t,{}),f.set(t,e)}}function o(t,e){if(!h.has(t))return void console.log("Ghost bug: Cursor#globalEventHandler() called with a source no longer tracked!");var n=h.get(t),r=Object.keys(n),i=[];if(r&&r.length)for(var s=0;s<r.length;s++)for(var o=r[s],u=0;u<e.length;u++){var c=e[u];if(a(c,o)){var f=n[o];i=i.concat(f);break}}i.length&&i.forEach(function(t){t(e)})}var u=t("elucidata-type"),c=(t("es6-collections"),t("./util")),a=c.startsWith;n.prototype.scopeTo=function(t){"use strict";return n.forPath(this.basePath+"."+t,this.source)},n.prototype.onChange=function(t){"use strict";return r(this.source,this.basePath,t),function(){i(this.source,this.basePath,t)}.bind(this)},n.prototype.offChange=function(t){"use strict";return i(this.source,this.basePath,t),this},n.prototype.getFullPath=function(t){"use strict";var e=this.basePath;return t&&(u.isArray(t)?t.length>0&&(e+=".",e+=t.join(".")):(e+=".",e+=t)),e},n.forPath=function(t,e){"use strict";return new n(e,t)},n.listenerInfo=function(){"use strict";var t=h.size,e=0,n=0;h.forEach(function(t){Object.keys(t).forEach(function(r){var i=t[r];e+=1,n+=i.length})});var r={totalSources:t,totalKeyWatches:e,totalEventHandlers:n};return r},["get","getPrevious","set","has","merge","push","unshift","splice","map","each","forEach","reduce","filter","find","indexOf","isUndefined","isNotUndefined","isDefined","isNull","isNotNull","isEmpty","isNotEmpty","isString","isNotString","isArray","isNotArray","isObject","isNotObject","isNumber","isNotNumber"].map(function(t){n.prototype[t]=function(){var e,n,r=arguments.length;if(0===r)return this.source[t].call(this.source,this.basePath);if(1===r)return e=arguments[0],l.has(t)?this.source[t].call(this.source,this.basePath,e):this.source[t].call(this.source,this.getFullPath(e));var i=arguments,e=i[0],n=Array.prototype.slice.call(i,1);return n.unshift(this.getFullPath(e)),this.source[t].apply(this.source,n)}}.bind(this));var h=new Map,f=new WeakMap,l=new Set(["set","merge","push","unshift","splice","indexOf","map","each","forEach","reduce","filter","find"]);e.exports=n},{"./util":10,"elucidata-type":1,"es6-collections":2}],9:[function(t,e){function n(t,e){"use strict";return!this instanceof n?new n(t,e):(this.$Ogre_root=t||{},this.$Ogre_changedKeys=[],this.$Ogre_timer=null,this.$Ogre_emitter=new o,this.$Ogre_emitter.setMaxListeners(0),this.history=[],this.options=s({},{batchChanges:!0,maxHistory:1,strict:!0},e||{}),void(this.getInitialState&&(this.$Ogre_root=this.getInitialState(this.$Ogre_root))))}var r=t("elucidata-type"),i=t("react/lib/update"),s=t("react/lib/Object.assign"),o=t("eventemitter3"),u=t("./cursor"),c="change",a=t("./util"),h=a.keyParts,f=a.findPath,l=a.buildSpecGraph,p=t("./version");n.prototype.scopeTo=function(t){"use strict";return u.forPath(t,this)},n.prototype.get=function(t,e){"use strict";if(""===t||null==t)return this.$Ogre_root;var n=f(t,this.$Ogre_root);return r.isUndefined(n)?e:n},n.prototype.getPrevious=function(t,e){"use strict";return e=e||0,f(t,this.history[e]||{})},n.prototype.map=function(t,e){"use strict";return this.get(t,[]).map(e)},n.prototype.each=function(t,e){"use strict";return this.get(t,[]).forEach(e),this},n.prototype.forEach=function(t,e){"use strict";return this.each(t,e)},n.prototype.filter=function(t,e){"use strict";return this.get(t,[]).filter(e)},n.prototype.reduce=function(t,e,n){"use strict";return this.get(t,[]).reduce(e,n)},n.prototype.find=function(t,e){"use strict";var n,r,i=this.get(t,[]);for(n=0,r=i.length;r>n;n++){var s=i[n];if(e(s)===!0)return s}return void 0},n.prototype.indexOf=function(t,e){"use strict";return this.get(t).indexOf(e)},n.prototype.set=function(t,e){"use strict";if(arguments.length<2)throw new Error("Invalid set() call: Requires path and value.");return this.$Ogre_changeDataset(t,{$set:e},"object"),this},n.prototype.merge=function(t,e){"use strict";return this.$Ogre_changeDataset(t,{$merge:e},"object"),this},n.prototype.push=function(t,e){"use strict";return r.isNotArray(e)&&(e=[e]),this.$Ogre_changeDataset(t,{$push:e},"array"),this},n.prototype.unshift=function(t,e){"use strict";return r.isNotArray(e)&&(e=[e]),this.$Ogre_changeDataset(t,{$unshift:e},"array"),this},n.prototype.splice=function(t,e,n){"use strict";var r,i=Array.prototype.slice.call(arguments,3);return r=2===arguments.length?{$splice:e}:{$splice:[[e,n].concat(i)]},this.$Ogre_changeDataset(t,r,"array"),this},n.prototype.onChange=function(t){"use strict";return this.$Ogre_emitter.on(c,t),function(){this.$Ogre_emitter.removeListener(c,t)}.bind(this)},n.prototype.offChange=function(t){"use strict";return this.$Ogre_emitter.removeListener(c,t),this},n.prototype.has=function(t){"use strict";return this.isNotEmpty(t)},n.prototype.isUndefined=function(t){"use strict";return r.isUndefined(this.get(t))},n.prototype.isNotUndefined=function(t){"use strict";return r.isNotUndefined(this.get(t))},n.prototype.isDefined=function(t){"use strict";return r.isNotUndefined(this.get(t))},n.prototype.isNull=function(t){"use strict";return r.isNull(this.get(t))},n.prototype.isNotNull=function(t){"use strict";return r.isNotNull(this.get(t))},n.prototype.isEmpty=function(t){"use strict";return r.isEmpty(this.get(t))},n.prototype.isNotEmpty=function(t){"use strict";return r.isNotEmpty(this.get(t))},n.prototype.isString=function(t){"use strict";return r.isString(this.get(t))},n.prototype.isNotString=function(t){"use strict";return r.isNotString(this.get(t))},n.prototype.isArray=function(t){"use strict";return r.isArray(this.get(t))},n.prototype.isNotArray=function(t){"use strict";return r.isNotArray(this.get(t))},n.prototype.isObject=function(t){"use strict";return r.isObject(this.get(t))},n.prototype.isNotObject=function(t){"use strict";return r.isNotObject(this.get(t))},n.prototype.isNumber=function(t){"use strict";return r.isNumber(this.get(t))},n.prototype.isNotNumber=function(t){"use strict";return r.isNotNumber(this.get(t))},n.prototype.$Ogre_changeDataset=function(t,e,n){"use strict";if(0===this.$Ogre_changedKeys.length)for(this.history.unshift(this.$Ogre_root);this.options.maxHistory>=0&&this.history.length>this.options.maxHistory;)this.history.pop();this.options.strict===!1&&f(t,this.$Ogre_root,!0,n),this.$Ogre_root=i(this.$Ogre_root,l(t,e)),this.$Ogre_scheduleChangeEvent(t)},n.prototype.$Ogre_scheduleChangeEvent=function(t){"use strict";r.isArray(t)&&(t=t.join(".")),this.$Ogre_changedKeys.push(t),this.options.batchChanges===!0?null===this.$Ogre_timer&&(this.$Ogre_timer=setTimeout(this.$Ogre_sendChangeEvents.bind(this),0)):this.$Ogre_sendChangeEvents()},n.prototype.$Ogre_sendChangeEvents=function(){"use strict";this.$Ogre_emitter.emit(c,this.$Ogre_changedKeys),this.$Ogre_changedKeys=[],this.$Ogre_timer=null},n.prototype.$Ogre_clearKeyCache=function(){"use strict";h.clearCache()},n.version=p,e.exports=n},{"./cursor":8,"./util":10,"./version":11,"elucidata-type":1,eventemitter3:3,"react/lib/Object.assign":4,"react/lib/update":7}],10:[function(t,e){function n(t,e,n,r){if(t=t||"",e=e||{},n=n===!0?!0:!1,""===t)return e;for(var s,o=i(t),c=e;c&&o.length;)s=o.shift(),n&&u.isUndefined(c[s])&&(c[s]=0===o.length&&"array"===r?[]:{}),c=c[s];return c}function r(t,e){t=t||"",e=e||{};var n={};if(""===t)return n;for(var r,s=i(t),o=n;s.length;)r=s.shift(),o[r]=0===s.length?e:{},o=o[r];return n}function i(t){var e;return u.isArray(t)?t.concat():(e=c[t])?e.concat():(e=c[t]=t.split("."),e.concat())}function s(t){var e=Math.floor((new Date).getTime()/1e3);for(t=t||36;a>=e;)e+=1;return a=e,e.toString(t)}function o(t,e){return 0==t.indexOf(e)}var u=t("elucidata-type"),c={"":[""]};i.clearCache=function(){c={"":[""]}};var a=0,h=function(){return"object"==typeof performance&&performance.now?performance.now.bind(performance):Date.now?Date.now.bind(Date):function(){return(new Date).getTime()}}();e.exports={keyParts:i,findPath:n,buildSpecGraph:r,uid:s,now:h,startsWith:o}},{"elucidata-type":1}],11:[function(t,e){e.exports="0.3.6"},{}]},{},[9])(9)});