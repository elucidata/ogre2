!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.Ogre=t()}}(function(){return function t(e,r,n){function i(o,u){if(!r[o]){if(!e[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(s)return s(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var h=r[o]={exports:{}};e[o][0].call(h.exports,function(t){var r=e[o][1][t];return i(r?r:t)},h,h.exports,t,e,r,n)}return r[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(t,e){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function i(t){return"number"==typeof t}function s(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!i(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,r,i,u,a,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(r=this._events[t],o(r))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:for(i=arguments.length,u=new Array(i-1),a=1;i>a;a++)u[a-1]=arguments[a];r.apply(this,u)}else if(s(r)){for(i=arguments.length,u=new Array(i-1),a=1;i>a;a++)u[a-1]=arguments[a];for(c=r.slice(),i=c.length,a=0;i>a;a++)c[a].apply(this,u)}return!0},r.prototype.addListener=function(t,e){var i;if(!n(e))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(e.listener)?e.listener:e),this._events[t]?s(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,s(this._events[t])&&!this._events[t].warned){var i;i=o(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[t].length>i&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function r(){this.removeListener(t,r),i||(i=!0,e.apply(this,arguments))}if(!n(e))throw TypeError("listener must be a function");var i=!1;return r.listener=e,this.on(t,r),this},r.prototype.removeListener=function(t,e){var r,i,o,u;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(r=this._events[t],o=r.length,i=-1,r===e||n(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(s(r)){for(u=o;u-->0;)if(r[u]===e||r[u].listener&&r[u].listener===e){i=u;break}if(0>i)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[t],n(r))this.removeListener(t,r);else for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.listenerCount=function(t,e){var r;return r=t._events&&t._events[e]?n(t._events[e])?1:t._events[e].length:0}},{}],2:[function(t,e){(function(){var t,r,n,i,s,o,u,a,c;for(c="Boolean Number String Function Array Date RegExp Undefined Null NodeList".split(" "),n=/element$/,o=Object.keys||function(t){var e,r,n;n=[];for(e in t)r=t[e],n.push(e);return n},r=function(){var t,e,r,n,i,s;for(n=Object.prototype.toString,e=/\[object HTML(.*)\]/,t={},i=0,s=c.length;s>i;i++)r=c[i],t["[object "+r+"]"]=r.toLowerCase();return function(r){var i,s;return s=n.call(r),(i=t[s])?i:(i=s.match(e))?i[1].toLowerCase():"object"}}(),a=c.concat(["Object"]),i=function(t){var e;return e=t.toLowerCase(),r["is"+t]=function(t){return r(t)===e},r["isNot"+t]=function(t){return r(t)!==e}},s=0,u=a.length;u>s;s++)t=a[s],i(t);r.isEmpty=function(t){switch(r(t)){case"null":return!0;case"undefined":return!0;case"string":return""===t;case"object":return 0===o(t).length;case"array":return 0===t.length;case"number":return isNaN(t);case"nodelist":return 0===t.length;default:return!1}},r.isNotEmpty=function(t){return!r.isEmpty(t)},r.isElement=function(t){return n.test(r(t))},r.isNotElement=function(t){return!r.isElement(t)},"undefined"!=typeof e&&null!==e?e.exports=r:this.type=r}).call(this)},{}],3:[function(t,e,r){(function(t){!function(t){"use strict";function e(t,e){function n(t){return this&&this.constructor===n?(this._keys=[],this._values=[],this.objectOnly=e,void(t&&r.call(this,t))):new n(t)}return e||d(t,"size",{get:p}),t.constructor=n,n.prototype=t,n}function r(t){this.add?t.forEach(this.add,this):t.forEach(function(t){this.set(t[0],t[1])},this)}function n(t){return this.has(t)&&(this._keys.splice(v,1),this._values.splice(v,1)),v>-1}function i(t){return this.has(t)?this._values[v]:void 0}function s(t,e){if(this.objectOnly&&e!==Object(e))throw new TypeError("Invalid value used as weak collection key");if(e!=e||0===e)for(v=t.length;v--&&!m(t[v],e););else v=t.indexOf(e);return v>-1}function o(t){return s.call(this,this._values,t)}function u(t){return s.call(this,this._keys,t)}function a(t,e){return this.has(t)?this._values[v]=e:this._values[this._keys.push(t)-1]=e,this}function c(t){return this.has(t)||this._values.push(t),this}function h(){this._values.length=0}function f(){return this._values.slice()}function l(){return this._keys.slice()}function p(){return this._values.length}function g(t,e){var r=this,n=r._values.slice();r._keys.slice().forEach(function(i,s){t.call(e,n[s],i,r)})}function y(t,e){var r=this;r._values.slice().forEach(function(n){t.call(e,n,n,r)})}var v,d=Object.defineProperty,m=Object.is;"undefined"==typeof WeakMap&&(t.WeakMap=e({"delete":n,clear:h,get:i,has:u,set:a},!0)),"undefined"==typeof Map&&(t.Map=e({"delete":n,has:u,get:i,set:a,keys:l,values:f,forEach:g,clear:h})),"undefined"==typeof Set&&(t.Set=e({has:o,add:c,"delete":n,clear:h,values:f,forEach:y})),"undefined"==typeof WeakSet&&(t.WeakSet=e({"delete":n,add:c,clear:h,has:o},!0))}("undefined"!=typeof r&&"undefined"!=typeof t?t:window)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(t,e){function r(t){if(null==t)throw new TypeError("Object.assign target cannot be null or undefined");for(var e=Object(t),r=Object.prototype.hasOwnProperty,n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i){var s=Object(i);for(var o in s)r.call(s,o)&&(e[o]=s[o])}}return e}e.exports=r},{}],5:[function(t,e){"use strict";var r=function(t,e,r,n,i,s,o,u){if(!t){var a;if(void 0===e)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,n,i,s,o,u],h=0;a=new Error("Invariant Violation: "+e.replace(/%s/g,function(){return c[h++]}))}throw a.framesToPop=1,a}};e.exports=r},{}],6:[function(t,e){var r=function(t){var e;for(e in t)if(t.hasOwnProperty(e))return e;return null};e.exports=r},{}],7:[function(t,e){"use strict";function r(t){return Array.isArray(t)?t.concat():t&&"object"==typeof t?s(new t.constructor,t):t}function n(t,e,r){u(Array.isArray(t));var n=e[r];u(Array.isArray(n))}function i(t,e){if(u("object"==typeof e),e.hasOwnProperty(f))return u(1===Object.keys(e).length),e[f];var o=r(t);if(e.hasOwnProperty(l)){var g=e[l];u(g&&"object"==typeof g),u(o&&"object"==typeof o),s(o,e[l])}e.hasOwnProperty(a)&&(n(t,e,a),e[a].forEach(function(t){o.push(t)})),e.hasOwnProperty(c)&&(n(t,e,c),e[c].forEach(function(t){o.unshift(t)})),e.hasOwnProperty(h)&&(u(Array.isArray(t)),u(Array.isArray(e[h])),e[h].forEach(function(t){u(Array.isArray(t)),o.splice.apply(o,t)})),e.hasOwnProperty(p)&&(u("function"==typeof e[p]),o=e[p](o));for(var v in e)y.hasOwnProperty(v)&&y[v]||(o[v]=i(t[v],e[v]));return o}var s=t("./Object.assign"),o=t("./keyOf"),u=t("./invariant"),a=o({$push:null}),c=o({$unshift:null}),h=o({$splice:null}),f=o({$set:null}),l=o({$merge:null}),p=o({$apply:null}),g=[a,c,h,f,l,p],y={};g.forEach(function(t){y[t]=!0}),e.exports=i},{"./Object.assign":4,"./invariant":5,"./keyOf":6}],8:[function(t,e){function r(t,e){"use strict";this.source=t,this.basePath=u.isArray(e)?e.join("."):e}function n(t,e,r){s(t);var n=h.get(t);n[e]=n[e]||[],n[e].push(r)}function i(t,e,r){var n=h.get(t);if(n[e]=n[e]||[],n[e].splice(n[e].indexOf(r),1),0===n[e].length&&(delete n[e],0===Object.keys(n).length)){var i=f.get(t);t.offChange(i),f["delete"](t),h["delete"](t)}}function s(t){if(!h.has(t)){var e=o.bind(this,t);t.onChange(e),h.set(t,{}),f.set(t,e)}}function o(t,e){if(!h.has(t))return void console.log("Ghost bug: Cursor#globalEventHandler() called with a source no longer tracked!");var r=h.get(t),n=Object.keys(r),i=[];if(n&&n.length)for(var s=0;s<n.length;s++)for(var o=n[s],u=0;u<e.length;u++){var a=e[u];if(c(a,o)){var f=r[o];i=i.concat(f);break}}i.length&&i.forEach(function(t){t(e)})}var u=t("elucidata-type"),a=(t("es6-collections"),t("./util")),c=a.startsWith;r.prototype.scopeTo=function(t){"use strict";return r.forPath(this.basePath+"."+t,this.source)},r.prototype.onChange=function(t){"use strict";return n(this.source,this.basePath,t),this},r.prototype.offChange=function(t){"use strict";return i(this.source,this.basePath,t),this},r.prototype.getFullPath=function(t){"use strict";var e=this.basePath;return t&&(u.isArray(t)?t.length>0&&(e+=".",e+=t.join(".")):(e+=".",e+=t)),e},r.forPath=function(t,e){"use strict";return new r(e,t)},r.listenerInfo=function(){"use strict";var t=h.size,e=0,r=0;h.forEach(function(t){Object.keys(t).forEach(function(n){var i=t[n];e+=1,r+=i.length})});var n={totalSources:t,totalKeyWatches:e,totalEventHandlers:r};return n},["get","getPrevious","set","has","merge","push","unshift","splice","map","each","forEach","reduce","filter","find","indexOf","isUndefined","isNotUndefined","isDefined","isNull","isNotNull","isEmpty","isNotEmpty","isString","isNotString","isArray","isNotArray","isObject","isNotObject","isNumber","isNotNumber"].map(function(t){r.prototype[t]=function(){var e,r,n=arguments.length;if(0===n)return this.source[t].call(this.source,this.basePath);if(1===n)return e=arguments[0],l.has(t)?this.source[t].call(this.source,this.basePath,e):this.source[t].call(this.source,this.getFullPath(e));var i=arguments,e=i[0],r=Array.prototype.slice.call(i,1);return r.unshift(this.getFullPath(e)),this.source[t].apply(this.source,r)}}.bind(this));var h=new Map,f=new WeakMap,l=new Set(["set","merge","push","unshift","splice","indexOf","map","each","forEach","reduce","filter","find"]);e.exports=r},{"./util":10,"elucidata-type":2,"es6-collections":3}],9:[function(t,e){function r(t,e){"use strict";return!this instanceof r?new r(t,e):(this.$Ogre_root=t||{},this.$Ogre_changedKeys=[],this.$Ogre_timer=null,this.$Ogre_emitter=new o,this.history=[],this.options=s({},{batchChanges:!0,maxHistory:1,strict:!0},e||{}),void(this.getInitialState&&(this.$Ogre_root=this.getInitialState(this.$Ogre_root))))}var n=t("elucidata-type"),i=t("react/lib/update"),s=t("react/lib/Object.assign"),o=t("events").EventEmitter,u=t("./cursor"),a="change",c=t("./util"),h=c.keyParts,f=c.findPath,l=c.buildSpecGraph;r.prototype.scopeTo=function(t){"use strict";return u.forPath(t,this)},r.prototype.get=function(t,e){"use strict";if(""===t||null==t)return this.$Ogre_root;var r=f(t,this.$Ogre_root);return n.isUndefined(r)?e:r},r.prototype.getPrevious=function(t,e){"use strict";return e=e||0,f(t,this.history[e]||{})},r.prototype.map=function(t,e){"use strict";return this.get(t,[]).map(e)},r.prototype.each=function(t,e){"use strict";return this.get(t,[]).forEach(e),this},r.prototype.forEach=function(t,e){"use strict";return this.each(t,e)},r.prototype.filter=function(t,e){"use strict";return this.get(t,[]).filter(e)},r.prototype.reduce=function(t,e,r){"use strict";return this.get(t,[]).reduce(e,r)},r.prototype.find=function(t,e){"use strict";var r,n,i=this.get(t,[]);for(r=0,n=i.length;n>r;r++){var s=i[r];if(e(s)===!0)return s}return void 0},r.prototype.indexOf=function(t,e){"use strict";return this.get(t).indexOf(e)},r.prototype.set=function(t,e){"use strict";if(arguments.length<2)throw new Error("Invalid set() call: Requires path and value.");return this.$Ogre_changeDataset(t,{$set:e},"object"),this},r.prototype.merge=function(t,e){"use strict";return this.$Ogre_changeDataset(t,{$merge:e},"object"),this},r.prototype.push=function(t,e){"use strict";return n.isNotArray(e)&&(e=[e]),this.$Ogre_changeDataset(t,{$push:e},"array"),this},r.prototype.unshift=function(t,e){"use strict";return n.isNotArray(e)&&(e=[e]),this.$Ogre_changeDataset(t,{$unshift:e},"array"),this},r.prototype.splice=function(t,e,r){"use strict";var n,i=Array.prototype.slice.call(arguments,3);return n=2===arguments.length?{$splice:e}:{$splice:[[e,r].concat(i)]},this.$Ogre_changeDataset(t,n,"array"),this},r.prototype.onChange=function(t){"use strict";return this.$Ogre_emitter.on(a,t),this},r.prototype.offChange=function(t){"use strict";return this.$Ogre_emitter.removeListener(a,t),this},r.prototype.has=function(t){"use strict";return this.isNotEmpty(t)},r.prototype.isUndefined=function(t){"use strict";return n.isUndefined(this.get(t))},r.prototype.isNotUndefined=function(t){"use strict";return n.isNotUndefined(this.get(t))},r.prototype.isDefined=function(t){"use strict";return n.isNotUndefined(this.get(t))},r.prototype.isNull=function(t){"use strict";return n.isNull(this.get(t))},r.prototype.isNotNull=function(t){"use strict";return n.isNotNull(this.get(t))},r.prototype.isEmpty=function(t){"use strict";return n.isEmpty(this.get(t))},r.prototype.isNotEmpty=function(t){"use strict";return n.isNotEmpty(this.get(t))},r.prototype.isString=function(t){"use strict";return n.isString(this.get(t))},r.prototype.isNotString=function(t){"use strict";return n.isNotString(this.get(t))},r.prototype.isArray=function(t){"use strict";return n.isArray(this.get(t))},r.prototype.isNotArray=function(t){"use strict";return n.isNotArray(this.get(t))},r.prototype.isObject=function(t){"use strict";return n.isObject(this.get(t))},r.prototype.isNotObject=function(t){"use strict";return n.isNotObject(this.get(t))},r.prototype.isNumber=function(t){"use strict";return n.isNumber(this.get(t))},r.prototype.isNotNumber=function(t){"use strict";return n.isNotNumber(this.get(t))},r.prototype.$Ogre_changeDataset=function(t,e,r){"use strict";if(0===this.$Ogre_changedKeys.length)for(this.history.unshift(this.$Ogre_root);this.options.maxHistory>=0&&this.history.length>this.options.maxHistory;)this.history.pop();this.options.strict===!1&&f(t,this.$Ogre_root,!0,r),this.$Ogre_root=i(this.$Ogre_root,l(t,e)),this.$Ogre_scheduleChangeEvent(t)},r.prototype.$Ogre_scheduleChangeEvent=function(t){"use strict";n.isArray(t)&&(t=t.join(".")),this.$Ogre_changedKeys.push(t),this.options.batchChanges===!0?null===this.$Ogre_timer&&(this.$Ogre_timer=setTimeout(this.$Ogre_sendChangeEvents.bind(this),0)):this.$Ogre_sendChangeEvents()},r.prototype.$Ogre_sendChangeEvents=function(){"use strict";this.$Ogre_emitter.emit(a,this.$Ogre_changedKeys),this.$Ogre_changedKeys=[],this.$Ogre_timer=null},r.prototype.$Ogre_clearKeyCache=function(){"use strict";h.clearCache()},e.exports=r},{"./cursor":8,"./util":10,"elucidata-type":2,events:1,"react/lib/Object.assign":4,"react/lib/update":7}],10:[function(t,e){function r(t,e,r,n){if(t=t||"",e=e||{},r=r===!0?!0:!1,""===t)return e;for(var s,o=i(t),a=e;a&&o.length;)s=o.shift(),r&&u.isUndefined(a[s])&&(a[s]=0===o.length&&"array"===n?[]:{}),a=a[s];return a}function n(t,e){t=t||"",e=e||{};var r={};if(""===t)return r;for(var n,s=i(t),o=r;s.length;)n=s.shift(),o[n]=0===s.length?e:{},o=o[n];return r}function i(t){var e;return u.isArray(t)?t.concat():(e=a[t])?e.concat():(e=a[t]=t.split("."),e.concat())}function s(t){var e=Math.floor((new Date).getTime()/1e3);for(t=t||36;c>=e;)e+=1;return c=e,e.toString(t)}function o(t,e){return 0==t.indexOf(e)}var u=t("elucidata-type"),a={"":[""]};i.clearCache=function(){a={"":[""]}};var c=0,h=function(){return"object"==typeof performance&&performance.now?performance.now.bind(performance):Date.now?Date.now.bind(Date):function(){return(new Date).getTime()}}();e.exports={keyParts:i,findPath:r,buildSpecGraph:n,uid:s,now:h,startsWith:o}},{"elucidata-type":2}]},{},[9])(9)});