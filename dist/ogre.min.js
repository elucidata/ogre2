!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.Ogre=e()}}(function(){var e,t,r;return function n(e,t,r){function i(o,u){if(!t[o]){if(!e[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(s)return s(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var c=t[o]={exports:{}};e[o][0].call(c.exports,function(t){var r=e[o][1][t];return i(r?r:t)},c,c.exports,n,e,t,r)}return t[o].exports}var s=typeof require=="function"&&require;for(var o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,r){function n(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}t.exports=n;n.EventEmitter=n;n.prototype._events=undefined;n.prototype._maxListeners=undefined;n.defaultMaxListeners=10;n.prototype.setMaxListeners=function(e){if(!s(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");this._maxListeners=e;return this};n.prototype.emit=function(e){var t,r,n,s,a,f;if(!this._events)this._events={};if(e==="error"){if(!this._events.error||o(this._events.error)&&!this._events.error.length){t=arguments[1];if(t instanceof Error){throw t}throw TypeError('Uncaught, unspecified "error" event.')}}r=this._events[e];if(u(r))return false;if(i(r)){switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:n=arguments.length;s=new Array(n-1);for(a=1;a<n;a++)s[a-1]=arguments[a];r.apply(this,s)}}else if(o(r)){n=arguments.length;s=new Array(n-1);for(a=1;a<n;a++)s[a-1]=arguments[a];f=r.slice();n=f.length;for(a=0;a<n;a++)f[a].apply(this,s)}return true};n.prototype.addListener=function(e,t){var r;if(!i(t))throw TypeError("listener must be a function");if(!this._events)this._events={};if(this._events.newListener)this.emit("newListener",e,i(t.listener)?t.listener:t);if(!this._events[e])this._events[e]=t;else if(o(this._events[e]))this._events[e].push(t);else this._events[e]=[this._events[e],t];if(o(this._events[e])&&!this._events[e].warned){var r;if(!u(this._maxListeners)){r=this._maxListeners}else{r=n.defaultMaxListeners}if(r&&r>0&&this._events[e].length>r){this._events[e].warned=true;console.error("(node) warning: possible EventEmitter memory "+"leak detected. %d listeners added. "+"Use emitter.setMaxListeners() to increase limit.",this._events[e].length);if(typeof console.trace==="function"){console.trace()}}}return this};n.prototype.on=n.prototype.addListener;n.prototype.once=function(e,t){if(!i(t))throw TypeError("listener must be a function");var r=false;function n(){this.removeListener(e,n);if(!r){r=true;t.apply(this,arguments)}}n.listener=t;this.on(e,n);return this};n.prototype.removeListener=function(e,t){var r,n,s,u;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;r=this._events[e];s=r.length;n=-1;if(r===t||i(r.listener)&&r.listener===t){delete this._events[e];if(this._events.removeListener)this.emit("removeListener",e,t)}else if(o(r)){for(u=s;u-->0;){if(r[u]===t||r[u].listener&&r[u].listener===t){n=u;break}}if(n<0)return this;if(r.length===1){r.length=0;delete this._events[e]}else{r.splice(n,1)}if(this._events.removeListener)this.emit("removeListener",e,t)}return this};n.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener){if(arguments.length===0)this._events={};else if(this._events[e])delete this._events[e];return this}if(arguments.length===0){for(t in this._events){if(t==="removeListener")continue;this.removeAllListeners(t)}this.removeAllListeners("removeListener");this._events={};return this}r=this._events[e];if(i(r)){this.removeListener(e,r)}else{while(r.length)this.removeListener(e,r[r.length-1])}delete this._events[e];return this};n.prototype.listeners=function(e){var t;if(!this._events||!this._events[e])t=[];else if(i(this._events[e]))t=[this._events[e]];else t=this._events[e].slice();return t};n.listenerCount=function(e,t){var r;if(!e._events||!e._events[t])r=0;else if(i(e._events[t]))r=1;else r=e._events[t].length;return r};function i(e){return typeof e==="function"}function s(e){return typeof e==="number"}function o(e){return typeof e==="object"&&e!==null}function u(e){return e===void 0}},{}],2:[function(e,t,r){var n=t.exports={};n.nextTick=function(){var e=typeof window!=="undefined"&&window.setImmediate;var t=typeof window!=="undefined"&&window.MutationObserver;var r=typeof window!=="undefined"&&window.postMessage&&window.addEventListener;if(e){return function(e){return window.setImmediate(e)}}var n=[];if(t){var i=document.createElement("div");var s=new MutationObserver(function(){var e=n.slice();n.length=0;e.forEach(function(e){e()})});s.observe(i,{attributes:true});return function o(e){if(!n.length){i.setAttribute("yes","no")}n.push(e)}}if(r){window.addEventListener("message",function(e){var t=e.source;if((t===window||t===null)&&e.data==="process-tick"){e.stopPropagation();if(n.length>0){var r=n.shift();r()}}},true);return function u(e){n.push(e);window.postMessage("process-tick","*")}}return function a(e){setTimeout(e,0)}}();n.title="browser";n.browser=true;n.env={};n.argv=[];function i(){}n.on=i;n.addListener=i;n.once=i;n.off=i;n.removeListener=i;n.removeAllListeners=i;n.emit=i;n.binding=function(e){throw new Error("process.binding is not supported")};n.cwd=function(){return"/"};n.chdir=function(e){throw new Error("process.chdir is not supported")}},{}],3:[function(e,t,r){(function(){var e,r,n,i,s,o,u,a,f;f="Boolean Number String Function Array Date RegExp Undefined Null NodeList".split(" ");n=/element$/;o=Object.keys||function(e){var t,r,n;n=[];for(t in e){r=e[t];n.push(t)}return n};r=function(){var e,t,r,n,i,s;n=Object.prototype.toString;t=/\[object HTML(.*)\]/;e={};for(i=0,s=f.length;i<s;i++){r=f[i];e["[object "+r+"]"]=r.toLowerCase()}return function(r){var i,s;s=n.call(r);if(i=e[s]){return i}else if(i=s.match(t)){return i[1].toLowerCase()}else{return"object"}}}();a=f.concat(["Object"]);i=function(e){var t;t=e.toLowerCase();r["is"+e]=function(e){return r(e)===t};return r["isNot"+e]=function(e){return r(e)!==t}};for(s=0,u=a.length;s<u;s++){e=a[s];i(e)}r.isEmpty=function(e){switch(r(e)){case"null":return true;case"undefined":return true;case"string":return e==="";case"object":return o(e).length===0;case"array":return e.length===0;case"number":return isNaN(e);case"nodelist":return e.length===0;default:return false}};r.isNotEmpty=function(e){return!r.isEmpty(e)};r.isElement=function(e){return n.test(r(e))};r.isNotElement=function(e){return!r.isElement(e)};if(typeof t!=="undefined"&&t!==null){t.exports=r}else{this.type=r}}).call(this)},{}],4:[function(e,t,r){function n(e,t){if(e==null){throw new TypeError("Object.assign target cannot be null or undefined")}var r=Object(e);var n=Object.prototype.hasOwnProperty;for(var i=1;i<arguments.length;i++){var s=arguments[i];if(s==null){continue}var o=Object(s);for(var u in o){if(n.call(o,u)){r[u]=o[u]}}}return r}t.exports=n},{}],5:[function(e,t,r){(function(e){"use strict";var r=function(t,r,n,i,s,o,u,a){if("production"!==e.env.NODE_ENV){if(r===undefined){throw new Error("invariant requires an error message argument")}}if(!t){var f;if(r===undefined){f=new Error("Minified exception occurred; use the non-minified dev environment "+"for the full error message and additional helpful warnings.")}else{var c=[n,i,s,o,u,a];var h=0;f=new Error("Invariant Violation: "+r.replace(/%s/g,function(){return c[h++]}))}f.framesToPop=1;throw f}};t.exports=r}).call(this,e("_process"))},{_process:2}],6:[function(e,t,r){var n=function(e){var t;for(t in e){if(!e.hasOwnProperty(t)){continue}return t}return null};t.exports=n},{}],7:[function(e,t,r){(function(r){"use strict";var n=e("./Object.assign");var i=e("./keyOf");var s=e("./invariant");function o(e){if(Array.isArray(e)){return e.concat()}else if(e&&typeof e==="object"){return n(new e.constructor,e)}else{return e}}var u=i({$push:null});var a=i({$unshift:null});var f=i({$splice:null});var c=i({$set:null});var h=i({$merge:null});var p=i({$apply:null});var l=[u,a,f,c,h,p];var v={};l.forEach(function(e){v[e]=true});function d(e,t,n){"production"!==r.env.NODE_ENV?s(Array.isArray(e),"update(): expected target of %s to be an array; got %s.",n,e):s(Array.isArray(e));var i=t[n];"production"!==r.env.NODE_ENV?s(Array.isArray(i),"update(): expected spec of %s to be an array; got %s. "+"Did you forget to wrap your parameter in an array?",n,i):s(Array.isArray(i))}function g(e,t){"production"!==r.env.NODE_ENV?s(typeof t==="object","update(): You provided a key path to update() that did not contain one "+"of %s. Did you forget to include {%s: ...}?",l.join(", "),c):s(typeof t==="object");if(t.hasOwnProperty(c)){"production"!==r.env.NODE_ENV?s(Object.keys(t).length===1,"Cannot have more than one key in an object with %s",c):s(Object.keys(t).length===1);return t[c]}var i=o(e);if(t.hasOwnProperty(h)){var y=t[h];"production"!==r.env.NODE_ENV?s(y&&typeof y==="object","update(): %s expects a spec of type 'object'; got %s",h,y):s(y&&typeof y==="object");"production"!==r.env.NODE_ENV?s(i&&typeof i==="object","update(): %s expects a target of type 'object'; got %s",h,i):s(i&&typeof i==="object");n(i,t[h])}if(t.hasOwnProperty(u)){d(e,t,u);t[u].forEach(function(e){i.push(e)})}if(t.hasOwnProperty(a)){d(e,t,a);t[a].forEach(function(e){i.unshift(e)})}if(t.hasOwnProperty(f)){"production"!==r.env.NODE_ENV?s(Array.isArray(e),"Expected %s target to be an array; got %s",f,e):s(Array.isArray(e));"production"!==r.env.NODE_ENV?s(Array.isArray(t[f]),"update(): expected spec of %s to be an array of arrays; got %s. "+"Did you forget to wrap your parameters in an array?",f,t[f]):s(Array.isArray(t[f]));t[f].forEach(function(e){"production"!==r.env.NODE_ENV?s(Array.isArray(e),"update(): expected spec of %s to be an array of arrays; got %s. "+"Did you forget to wrap your parameters in an array?",f,t[f]):s(Array.isArray(e));i.splice.apply(i,e)})}if(t.hasOwnProperty(p)){"production"!==r.env.NODE_ENV?s(typeof t[p]==="function","update(): expected spec of %s to be a function; got %s.",p,t[p]):s(typeof t[p]==="function");i=t[p](i)}for(var _ in t){if(!(v.hasOwnProperty(_)&&v[_])){i[_]=g(e[_],t[_])}}return i}t.exports=g}).call(this,e("_process"))},{"./Object.assign":4,"./invariant":5,"./keyOf":6,_process:2}],8:[function(e,t,r){var n=e("elucidata-type"),i=e("react/lib/update"),s=e("events").EventEmitter,o=e("react/lib/Object.assign"),u="datasource:change";for(var a in s){if(s.hasOwnProperty(a)){c[a]=s[a]}}var f=s===null?null:s.prototype;c.prototype=Object.create(f);c.prototype.constructor=c;c.__superConstructor__=s;function c(e,t){"use strict";s.call(this);this.$Ogre_root=e||{};this.$Ogre_changedKeys=[];this.$Ogre_timer=null;this.$Ogre_previousRoot=null;this.$Ogre_history=[];this.options=o({},{batchChanges:true,maxHistory:1},t||{});if(this.getInitialState){this.$Ogre_root=this.getInitialState(this.$Ogre_root)}}c.prototype.onChange=function(e){"use strict";this.on(u,e);return this};c.prototype.offChange=function(e){"use strict";this.off(u,e);return this};c.prototype.get=function(e,t){"use strict";if(e===""||e==null)return this.$Ogre_root;var r=h(e,this.$Ogre_root);if(n.isUndefined(r))return t;else return r};c.prototype.getPrevious=function(e){"use strict";return h(e,this.$Ogre_previousRoot)};c.prototype.set=function(e,t,r){"use strict";this.$Ogre_changeDataset(e,{$set:t},r);return this};c.prototype.push=function(e,t,r){"use strict";if(n.isNotArray(t))t=[t];this.$Ogre_changeDataset(e,{$push:t},r);return this};c.prototype.unshift=function(e,t,r){"use strict";if(n.isNotArray(t))t=[t];this.$Ogre_changeDataset(e,{$unshift:t},r);return this};c.prototype.splice=function(e,t,r){"use strict";var n=Array.prototype.slice.call(arguments,3);var i;if(arguments.length===2){i={$splice:t}}else{i={$splice:[[t,r].concat(n)]}}this.$Ogre_changeDataset(e,i);return this};c.prototype.merge=function(e,t,r){"use strict";this.$Ogre_changeDataset(e,{$merge:t},r);return this};c.prototype.map=function(e,t){"use strict";return this.get(e).map(t)};c.prototype.each=function(e,t){"use strict";this.get(e).forEach(t);return this};c.prototype.filter=function(e,t){"use strict";return this.get(e).filter(t)};c.prototype.find=function(e,t){"use strict";var r=this.get(e);for(var n=0;n<r.length;n++){var i=r[n];if(t(i)===true){return i}}return void 0};c.prototype.indexOf=function(e,t){"use strict";return this.get(e).indexOf(t)};c.prototype.isUndefined=function(e){"use strict";return n.isUndefined(this.get(e))};c.prototype.isNotUndefined=function(e){"use strict";return n.isNotUndefined(this.get(e))};c.prototype.isDefined=function(e){"use strict";return n.isNotUndefined(this.get(e))};c.prototype.isNull=function(e){"use strict";return n.isNull(this.get(e))};c.prototype.isNotNull=function(e){"use strict";return n.isNotNull(this.get(e))};c.prototype.isEmpty=function(e){"use strict";return n.isEmpty(this.get(e))};c.prototype.isNotEmpty=function(e){"use strict";return n.isNotEmpty(this.get(e))};c.prototype.$Ogre_changeDataset=function(e,t,r){"use strict";if(this.$Ogre_changedKeys.length===0){this.$Ogre_previousRoot=this.$Ogre_root}if(r===true){h(e,this.$Ogre_root,r)}this.$Ogre_root=i(this.$Ogre_root,p(e,t));this.$Ogre_scheduleChangeEvent(e)};c.prototype.$Ogre_scheduleChangeEvent=function(e){"use strict";this.$Ogre_changedKeys.push(e);if(this.options.batchChanges===true){if(this.$Ogre_timer===null){this.$Ogre_timer=setTimeout(this.$Ogre_sendChangeEvents.bind(this),0)}}else{this.$Ogre_sendChangeEvents()}};c.prototype.$Ogre_sendChangeEvents=function(){"use strict";this.emit(u,this.$Ogre_changedKeys);this.$Ogre_changedKeys=[];this.$Ogre_timer=null};function h(e,t,r){e=e||"";t=t||{};r=r===true?true:false;if(e===""){return t}var i=v(e),s=t,o;while(s&&i.length){o=i.shift();if(r&&n.isUndefined(s[o])){s[o]={}}s=s[o]}return s}function p(e,t){e=e||"";t=t||{};var r={};if(e==="")return r;var n=v(e),i=r,s;while(n.length){s=n.shift();if(n.length===0){i[s]=t}else{i[s]={}}i=i[s]}return r}var l={"":[""]};function v(e){var t;if(t=l[e]){return t.concat()}else{t=l[e]=e.split(".");return t.concat()}}v.clearCache=function(){l={"":[""]}};t.exports=c},{"elucidata-type":3,events:1,"react/lib/Object.assign":4,"react/lib/update":7}]},{},[8])(8)});